(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[864],{1601:(e,r,o)=>{"use strict";o.r(r),o.d(r,{default:()=>d});var l=o(5155),a=o(2115),t=o(6653),n=o(8337),s=o(2065);let c={postMeeting:{icon:"\uD83D\uDCDD",colorClass:"text-blue-600",bgClass:"bg-blue-50",borderClass:"border-blue-200"},silentCustomer:{icon:"\uD83D\uDCA4",colorClass:"text-amber-600",bgClass:"bg-amber-50",borderClass:"border-amber-200"},holiday:{icon:"\uD83C\uDF8A",colorClass:"text-red-600",bgClass:"bg-red-50",borderClass:"border-red-200"},birthday:{icon:"\uD83C\uDF82",colorClass:"text-pink-600",bgClass:"bg-pink-50",borderClass:"border-pink-200"},valueShare:{icon:"\uD83D\uDCDA",colorClass:"text-green-600",bgClass:"bg-green-50",borderClass:"border-green-200"},referral:{icon:"\uD83E\uDD1D",colorClass:"text-purple-600",bgClass:"bg-purple-50",borderClass:"border-purple-200"}},i={customerName:"",customerCompany:"",relationship:"normal",platform:"line",meetingDate:"",meetingTopic:"",meetingPoints:"",customerQuestions:"",nextStep:"",lastContactDate:"",lastContent:"",noCloseReason:"",approachType:"value",approachOther:"",holidayName:"",holidayTone:"warm",mentionBusiness:"light",birthdayTone:"personal",customerInterests:"",customerIndustry:"",customerTopics:"",shareType:"article",shareTitle:"",shareReason:"",shareLink:"",cooperationDuration:"",cooperationResult:"",referralTarget:"",referralIndustry:"",referralPosition:"",hasReward:!1,rewardContent:""};function d(){var e,r,o,d,p,u,h,f,g,x,b,y,v,w,j,N,C,U,k,T,P;let[L,O]=(0,a.useState)(null),[S,M]=(0,a.useState)(i),[R,I]=(0,a.useState)(""),[D,A]=(0,a.useState)(!1),{t:F}=(0,n.o)(),{profile:B,profileLoading:E}=(0,s.x)(),_=(e,r)=>{M(o=>({...o,[e]:r}))},H=async()=>{try{await navigator.clipboard.writeText(R),A(!0),setTimeout(()=>A(!1),2e3)}catch(e){console.error("複製失敗:",e)}},Q=e=>{var r,o;let l=null==(o=F.followUp)||null==(r=o.form)?void 0:r.relationshipOptions;return(null==l?void 0:l[e])||e},W=e=>{var r,o;let l=null==(o=F.followUp)||null==(r=o.form)?void 0:r.platformOptions;return(null==l?void 0:l[e])||e};return E?(0,l.jsx)(t.A,{children:(0,l.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,l.jsx)("div",{role:"status","aria-label":"Loading",className:"text-gray-500",children:F.common.loading})})}):(0,l.jsx)(t.A,{children:(0,l.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:F.followUp.title}),(0,l.jsx)("p",{className:"text-gray-500 mt-1",children:F.followUp.subtitle})]}),!L&&(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.keys(c).map(e=>{var r;let o=c[e];return(0,l.jsxs)("button",{onClick:()=>{O(e),I(""),M(i)},className:"p-6 rounded-xl border-2 ".concat(o.borderClass," ").concat(o.bgClass," hover:shadow-lg transition-all duration-200 text-left group"),children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,l.jsx)("span",{className:"text-3xl",children:o.icon}),(0,l.jsx)("h3",{className:"font-semibold ".concat(o.colorClass),children:F.followUp.scenarios[e]})]}),(0,l.jsx)("p",{className:"text-sm text-gray-600 leading-relaxed",children:(null==(r=F.followUp.scenarioDescriptions)?void 0:r[e])||m(e)}),(0,l.jsxs)("div",{className:"mt-4 flex items-center text-sm font-medium text-gray-500 group-hover:text-gray-700",children:[F.followUp.form.startUsing,(0,l.jsx)("svg",{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]},e)})}),L&&(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm",children:[(0,l.jsx)("div",{className:"p-4 border-b ".concat(c[L].bgClass," rounded-t-lg"),children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("span",{className:"text-2xl",children:c[L].icon}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"font-semibold ".concat(c[L].colorClass),children:F.followUp.scenarios[L]}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:(null==(e=F.followUp.scenarioDescriptions)?void 0:e[L])||m(L)})]})]}),(0,l.jsx)("button",{onClick:()=>{O(null),I(""),M(i)},className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 hover:bg-white/50 rounded-lg transition-colors",children:F.followUp.form.backToSelect})]})}),(0,l.jsxs)("div",{className:"p-6 space-y-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{htmlFor:"followup-customerName",className:"block text-sm font-medium text-gray-700 mb-1",children:[F.followUp.form.customerName," *"]}),(0,l.jsx)("input",{id:"followup-customerName",type:"text",value:S.customerName,onChange:e=>_("customerName",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:F.followUp.form.customerNamePlaceholder,maxLength:100})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"followup-companyName",className:"block text-sm font-medium text-gray-700 mb-1",children:F.followUp.form.companyName}),(0,l.jsx)("input",{id:"followup-companyName",type:"text",value:S.customerCompany,onChange:e=>_("customerCompany",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:F.followUp.form.companyNamePlaceholder,maxLength:100})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"followup-relationship",className:"block text-sm font-medium text-gray-700 mb-1",children:F.followUp.form.relationship}),(0,l.jsxs)("select",{id:"followup-relationship",value:S.relationship,onChange:e=>_("relationship",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",children:[(0,l.jsx)("option",{value:"stranger",children:F.followUp.form.relationshipOptions.stranger}),(0,l.jsx)("option",{value:"normal",children:F.followUp.form.relationshipOptions.normal}),(0,l.jsx)("option",{value:"familiar",children:F.followUp.form.relationshipOptions.familiar}),(0,l.jsx)("option",{value:"close",children:F.followUp.form.relationshipOptions.close})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"followup-platform",className:"block text-sm font-medium text-gray-700 mb-1",children:F.followUp.form.platform}),(0,l.jsxs)("select",{id:"followup-platform",value:S.platform,onChange:e=>_("platform",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",children:[(0,l.jsx)("option",{value:"email",children:F.followUp.form.platformOptions.email}),(0,l.jsx)("option",{value:"line",children:F.followUp.form.platformOptions.line}),(0,l.jsx)("option",{value:"whatsapp",children:F.followUp.form.platformOptions.whatsapp})]})]})]}),"postMeeting"===L&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:F.followUp.form.meetingDate}),(0,l.jsx)("input",{type:"date",value:S.meetingDate,onChange:e=>_("meetingDate",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:F.followUp.form.meetingTopic}),(0,l.jsx)("input",{type:"text",value:S.meetingTopic,onChange:e=>_("meetingTopic",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:F.followUp.form.meetingTopicPlaceholder,maxLength:200})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:F.followUp.form.meetingPoints}),(0,l.jsx)("textarea",{value:S.meetingPoints,onChange:e=>_("meetingPoints",e.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:F.followUp.form.meetingPointsPlaceholder,maxLength:2e3})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:F.followUp.form.customerQuestions}),(0,l.jsx)("textarea",{value:S.customerQuestions,onChange:e=>_("customerQuestions",e.target.value),rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:F.followUp.form.customerQuestionsPlaceholder,maxLength:2e3})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:F.followUp.form.nextStep}),(0,l.jsx)("input",{type:"text",value:S.nextStep,onChange:e=>_("nextStep",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:F.followUp.form.nextStepPlaceholder,maxLength:200})]})]}),"silentCustomer"===L&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:F.followUp.form.lastContactDate}),(0,l.jsx)("input",{type:"date",value:S.lastContactDate,onChange:e=>_("lastContactDate",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:F.followUp.form.noCloseReason}),(0,l.jsx)("input",{type:"text",value:S.noCloseReason,onChange:e=>_("noCloseReason",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:F.followUp.form.noCloseReasonPlaceholder,maxLength:200})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:F.followUp.form.lastContentLabel}),(0,l.jsx)("textarea",{value:S.lastContent,onChange:e=>_("lastContent",e.target.value),rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:F.followUp.form.lastContentPlaceholder,maxLength:1e3})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:F.followUp.form.approachType}),(0,l.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:[{value:"value",label:null==(r=F.followUp.form.approachOptions)?void 0:r.value},{value:"trend",label:null==(o=F.followUp.form.approachOptions)?void 0:o.trend},{value:"greeting",label:null==(d=F.followUp.form.approachOptions)?void 0:d.greeting},{value:"newService",label:null==(p=F.followUp.form.approachOptions)?void 0:p.newService},{value:"other",label:null==(u=F.followUp.form.approachOptions)?void 0:u.other}].map(e=>(0,l.jsxs)("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer transition-colors ".concat(S.approachType===e.value?"border-teal-500 bg-teal-50":"border-gray-200 hover:border-gray-300"),children:[(0,l.jsx)("input",{type:"radio",name:"approachType",value:e.value,checked:S.approachType===e.value,onChange:e=>_("approachType",e.target.value),className:"sr-only"}),(0,l.jsx)("span",{className:"text-sm",children:e.label})]},e.value))}),"other"===S.approachType&&(0,l.jsx)("input",{type:"text",value:S.approachOther,onChange:e=>_("approachOther",e.target.value),className:"mt-2 w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:F.followUp.form.approachOtherPlaceholder,maxLength:200})]})]}),"holiday"===L&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:F.followUp.form.holidayName}),(0,l.jsx)("input",{type:"text",value:S.holidayName,onChange:e=>_("holidayName",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:F.followUp.form.holidayNamePlaceholder,maxLength:100})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:F.followUp.form.lastInteraction}),(0,l.jsx)("input",{type:"text",value:S.lastContactDate,onChange:e=>_("lastContactDate",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:F.followUp.form.lastInteractionPlaceholder,maxLength:100})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:F.followUp.form.feelingLabel}),(0,l.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[{value:"formal",label:null==(h=F.followUp.form.feelingOptions)?void 0:h.formal},{value:"warm",label:null==(f=F.followUp.form.feelingOptions)?void 0:f.warm},{value:"humor",label:null==(g=F.followUp.form.feelingOptions)?void 0:g.humor},{value:"simple",label:null==(x=F.followUp.form.feelingOptions)?void 0:x.simple}].map(e=>(0,l.jsxs)("label",{className:"flex items-center justify-center p-3 border rounded-lg cursor-pointer transition-colors ".concat(S.holidayTone===e.value?"border-teal-500 bg-teal-50":"border-gray-200 hover:border-gray-300"),children:[(0,l.jsx)("input",{type:"radio",name:"holidayTone",value:e.value,checked:S.holidayTone===e.value,onChange:e=>_("holidayTone",e.target.value),className:"sr-only"}),(0,l.jsx)("span",{className:"text-sm",children:e.label})]},e.value))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:F.followUp.form.mentionBusiness}),(0,l.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[{value:"none",label:null==(b=F.followUp.form.mentionBusinessOptions)?void 0:b.none},{value:"light",label:null==(y=F.followUp.form.mentionBusinessOptions)?void 0:y.light},{value:"clear",label:null==(v=F.followUp.form.mentionBusinessOptions)?void 0:v.clear}].map(e=>(0,l.jsxs)("label",{className:"flex items-center justify-center p-3 border rounded-lg cursor-pointer transition-colors ".concat(S.mentionBusiness===e.value?"border-teal-500 bg-teal-50":"border-gray-200 hover:border-gray-300"),children:[(0,l.jsx)("input",{type:"radio",name:"mentionBusiness",value:e.value,checked:S.mentionBusiness===e.value,onChange:e=>_("mentionBusiness",e.target.value),className:"sr-only"}),(0,l.jsx)("span",{className:"text-sm",children:e.label})]},e.value))})]})]}),"birthday"===L&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:F.followUp.form.feelingLabel}),(0,l.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[{value:"formal",label:null==(w=F.followUp.form.birthdayFeelingOptions)?void 0:w.formal},{value:"personal",label:null==(j=F.followUp.form.birthdayFeelingOptions)?void 0:j.personal},{value:"humor",label:null==(N=F.followUp.form.birthdayFeelingOptions)?void 0:N.humor}].map(e=>(0,l.jsxs)("label",{className:"flex items-center justify-center p-3 border rounded-lg cursor-pointer transition-colors ".concat(S.birthdayTone===e.value?"border-teal-500 bg-teal-50":"border-gray-200 hover:border-gray-300"),children:[(0,l.jsx)("input",{type:"radio",name:"birthdayTone",value:e.value,checked:S.birthdayTone===e.value,onChange:e=>_("birthdayTone",e.target.value),className:"sr-only"}),(0,l.jsx)("span",{className:"text-sm",children:e.label})]},e.value))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:F.followUp.form.customerInterests}),(0,l.jsx)("input",{type:"text",value:S.customerInterests,onChange:e=>_("customerInterests",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:F.followUp.form.customerInterestsPlaceholder,maxLength:200})]})]}),"valueShare"===L&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:F.followUp.form.customerIndustry}),(0,l.jsx)("input",{type:"text",value:S.customerIndustry,onChange:e=>_("customerIndustry",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:F.followUp.form.customerIndustryPlaceholder,maxLength:100})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:F.followUp.form.customerTopics}),(0,l.jsx)("input",{type:"text",value:S.customerTopics,onChange:e=>_("customerTopics",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:F.followUp.form.customerTopicsPlaceholder,maxLength:200})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:F.followUp.form.shareTypeLabel}),(0,l.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-5 gap-2",children:[{value:"article",label:null==(C=F.followUp.form.shareTypeOptions)?void 0:C.article},{value:"report",label:null==(U=F.followUp.form.shareTypeOptions)?void 0:U.report},{value:"news",label:null==(k=F.followUp.form.shareTypeOptions)?void 0:k.news},{value:"tool",label:null==(T=F.followUp.form.shareTypeOptions)?void 0:T.tool},{value:"event",label:null==(P=F.followUp.form.shareTypeOptions)?void 0:P.event}].map(e=>(0,l.jsxs)("label",{className:"flex items-center justify-center p-3 border rounded-lg cursor-pointer transition-colors ".concat(S.shareType===e.value?"border-teal-500 bg-teal-50":"border-gray-200 hover:border-gray-300"),children:[(0,l.jsx)("input",{type:"radio",name:"shareType",value:e.value,checked:S.shareType===e.value,onChange:e=>_("shareType",e.target.value),className:"sr-only"}),(0,l.jsx)("span",{className:"text-sm",children:e.label})]},e.value))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:F.followUp.form.shareTitle}),(0,l.jsx)("input",{type:"text",value:S.shareTitle,onChange:e=>_("shareTitle",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:F.followUp.form.shareTitlePlaceholder,maxLength:200})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:F.followUp.form.shareReason}),(0,l.jsx)("textarea",{value:S.shareReason,onChange:e=>_("shareReason",e.target.value),rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:F.followUp.form.shareReasonPlaceholder,maxLength:1e3})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:F.followUp.form.shareLink}),(0,l.jsx)("input",{type:"url",value:S.shareLink,onChange:e=>_("shareLink",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:F.followUp.form.shareLinkPlaceholder,maxLength:500})]})]}),"referral"===L&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:F.followUp.form.cooperationDuration}),(0,l.jsx)("input",{type:"text",value:S.cooperationDuration,onChange:e=>_("cooperationDuration",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:F.followUp.form.cooperationDurationPlaceholder,maxLength:100})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:F.followUp.form.cooperationResult}),(0,l.jsx)("input",{type:"text",value:S.cooperationResult,onChange:e=>_("cooperationResult",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:F.followUp.form.cooperationResultPlaceholder,maxLength:200})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:F.followUp.form.referralTarget}),(0,l.jsx)("textarea",{value:S.referralTarget,onChange:e=>_("referralTarget",e.target.value),rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:F.followUp.form.referralTargetPlaceholder,maxLength:500})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:F.followUp.form.referralIndustry}),(0,l.jsx)("input",{type:"text",value:S.referralIndustry,onChange:e=>_("referralIndustry",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:F.followUp.form.referralIndustryPlaceholder,maxLength:100})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:F.followUp.form.referralPosition}),(0,l.jsx)("input",{type:"text",value:S.referralPosition,onChange:e=>_("referralPosition",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:F.followUp.form.referralPositionPlaceholder,maxLength:100})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,l.jsx)("input",{type:"checkbox",checked:S.hasReward,onChange:e=>_("hasReward",e.target.checked),className:"w-4 h-4 text-teal-600 border-gray-300 rounded focus:ring-teal-500"}),(0,l.jsx)("span",{className:"text-sm font-medium text-gray-700",children:F.followUp.form.hasReward})]}),S.hasReward&&(0,l.jsx)("input",{type:"text",value:S.rewardContent,onChange:e=>_("rewardContent",e.target.value),className:"mt-2 w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:F.followUp.form.rewardContentPlaceholder,maxLength:200})]})]}),(0,l.jsx)("div",{className:"pt-4 border-t border-gray-100",children:(0,l.jsx)("button",{onClick:()=>{let e="";switch(L){case"postMeeting":e="請幫我寫一封「會議後跟進」訊息。\n\n客戶資訊：\n- 客戶姓名：".concat(S.customerName||"（請填入）","\n- 公司名稱：").concat(S.customerCompany||"（請填入）","\n- 會議日期：").concat(S.meetingDate||"（請填入）","\n- 會議主題：").concat(S.meetingTopic||"（請填入）","\n\n會議重點：\n").concat(S.meetingPoints||"（請填入會議討論的重點，用換行分隔）","\n\n客戶提出的問題/疑慮：\n").concat(S.customerQuestions||"（請填入客戶的問題或疑慮）","\n\n約定的下一步：\n").concat(S.nextStep||"（請填入約定的下一步行動）","\n\n發送管道：").concat(W(S.platform),"\n\n===== 我的背景資訊 =====\n- 姓名：").concat(B.name||"（請在 Content Clone 模組填寫）","\n- 產品/服務：").concat(B.productService||"（請在 Content Clone 模組填寫）","\n- 說話風格：").concat(B.toneStyle||"（請在 Content Clone 模組填寫）","\n").concat(B.catchphrases?"- 常用語/口頭禪：".concat(B.catchphrases):"","\n\n請產出 3 個版本的跟進訊息：\n- 版本 A：正式版\n- 版本 B：親切版\n- 版本 C：簡短版\n\n每個版本包含：\n1. 感謝對方的時間\n2. 會議重點摘要\n3. 回應他們的問題/疑慮\n4. 確認下一步行動\n5. 明確的 CTA\n\n每個版本標註建議的發送時間。");break;case"silentCustomer":e=(()=>{let e={value:F.followUpPromptMaps.approach.value,trend:F.followUpPromptMaps.approach.trend,greeting:F.followUpPromptMaps.approach.greeting,newService:F.followUpPromptMaps.approach.newService,other:S.approachOther||F.followUpPromptMaps.approach.other};return"請幫我寫一封「沉默客戶喚醒」訊息。\n\n客戶資訊：\n- 客戶姓名：".concat(S.customerName||"（請填入）","\n- 公司名稱：").concat(S.customerCompany||"（請填入）","\n- 上次聯絡：").concat(S.lastContactDate||"（請填入日期）","\n- 上次聊的內容：").concat(S.lastContent||"（請填入）","\n- 當時沒成交的原因：").concat(S.noCloseReason||"（例如：預算/時機/需要考慮）","\n\n我想用的切入點：").concat(e[S.approachType],"\n\n發送管道：").concat(W(S.platform),"\n\n===== 我的背景資訊 =====\n- 姓名：").concat(B.name||"（請在 Content Clone 模組填寫）","\n- 產品/服務：").concat(B.productService||"（請在 Content Clone 模組填寫）","\n- 說話風格：").concat(B.toneStyle||"（請在 Content Clone 模組填寫）","\n").concat(B.catchphrases?"- 常用語/口頭禪：".concat(B.catchphrases):"","\n\n請產出 3 個版本，原則：\n1. 不要太銷售感\n2. 提供價值或關心\n3. 輕鬆自然，像朋友問候\n4. 有一個軟性的 CTA（不是「要不要買」）\n\n每個版本標註建議的發送時間。")})();break;case"holiday":e=(()=>{let e={formal:F.followUpPromptMaps.tone.formal,warm:F.followUpPromptMaps.tone.warm,humor:F.followUpPromptMaps.tone.humor,simple:F.followUpPromptMaps.tone.simple},r={none:F.followUpPromptMaps.business.none,light:F.followUpPromptMaps.business.light,clear:F.followUpPromptMaps.business.clear};return"請幫我寫一封「節日問候」訊息。\n\n客戶資訊：\n- 客戶姓名：".concat(S.customerName||"（請填入）","\n- 關係程度：").concat(Q(S.relationship),"\n- 上次互動：").concat(S.lastContactDate||"（請填入）","\n\n節日：").concat(S.holidayName||"（請填入節日名稱）","\n\n我想傳達的感覺：").concat(e[S.holidayTone],"\n\n是否要提到業務？").concat(r[S.mentionBusiness],"\n\n發送管道：").concat(W(S.platform),"\n\n===== 我的背景資訊 =====\n- 姓名：").concat(B.name||"（請在 Content Clone 模組填寫）","\n- 說話風格：").concat(B.toneStyle||"（請在 Content Clone 模組填寫）","\n").concat(B.catchphrases?"- 常用語/口頭禪：".concat(B.catchphrases):"","\n\n請產出 3 個版本，原則：\n1. 真誠，不要太制式\n2. 符合節日氛圍\n3. 根據關係程度調整語氣\n\n每個版本標註建議的發送時間。")})();break;case"birthday":e=(()=>{let e={formal:F.followUpPromptMaps.birthdayTone.formal,personal:F.followUpPromptMaps.birthdayTone.personal,humor:F.followUpPromptMaps.birthdayTone.humor};return"請幫我寫一封「生日祝福」訊息。\n\n客戶資訊：\n- 客戶姓名：".concat(S.customerName||"（請填入）","\n- 關係程度：").concat(Q(S.relationship),"\n- 我知道他的興趣/特點：").concat(S.customerInterests||"（例如：愛喝咖啡/喜歡高爾夫/有小孩）","\n\n我想傳達的感覺：").concat(e[S.birthdayTone],"\n\n發送管道：").concat(W(S.platform),"\n\n===== 我的背景資訊 =====\n- 姓名：").concat(B.name||"（請在 Content Clone 模組填寫）","\n- 說話風格：").concat(B.toneStyle||"（請在 Content Clone 模組填寫）","\n").concat(B.catchphrases?"- 常用語/口頭禪：".concat(B.catchphrases):"","\n\n請產出 3 個版本，原則：\n1. 個人化（不要像群發）\n2. 如果知道他的興趣，融入祝福\n3. 真誠簡短\n4. 不要提業務\n\n每個版本標註建議的發送時間。")})();break;case"valueShare":e=(()=>{let e={article:F.followUpPromptMaps.shareType.article,report:F.followUpPromptMaps.shareType.report,news:F.followUpPromptMaps.shareType.news,tool:F.followUpPromptMaps.shareType.tool,event:F.followUpPromptMaps.shareType.event};return"請幫我寫一封「分享價值」訊息。\n\n客戶資訊：\n- 客戶姓名：".concat(S.customerName||"（請填入）","\n- 產業：").concat(S.customerIndustry||"（請填入）","\n- 他關心的議題：").concat(S.customerTopics||"（請填入）","\n\n我要分享的內容：\n- 類型：").concat(e[S.shareType],"\n- 標題或主題：").concat(S.shareTitle||"（請填入）","\n- 為什麼對他有用：").concat(S.shareReason||"（請填入）","\n- 連結：").concat(S.shareLink||"（請填入）","\n\n發送管道：").concat(W(S.platform),"\n\n===== 我的背景資訊 =====\n- 姓名：").concat(B.name||"（請在 Content Clone 模組填寫）","\n- 產品/服務：").concat(B.productService||"（請在 Content Clone 模組填寫）","\n- 說話風格：").concat(B.toneStyle||"（請在 Content Clone 模組填寫）","\n").concat(B.catchphrases?"- 常用語/口頭禪：".concat(B.catchphrases):"","\n\n請產出 3 個版本，原則：\n1. 說明為什麼想到他\n2. 簡述重點（不用看完整篇也知道在講什麼）\n3. 輕鬆的 CTA（有興趣可以看看）\n4. 不要銷售感\n\n每個版本標註建議的發送時間。")})();break;case"referral":e="請幫我寫一封「轉介紹請求」訊息。\n\n客戶資訊：\n- 客戶姓名：".concat(S.customerName||"（請填入）","\n- 合作多久：").concat(S.cooperationDuration||"（請填入）","\n- 合作成果：").concat(S.cooperationResult||"（請填入具體成果）","\n- 關係程度：").concat(Q(S.relationship),"\n\n我希望他介紹的對象：\n- 產業：").concat(S.referralIndustry||"（請填入）","\n- 職位：").concat(S.referralPosition||"（請填入）","\n- 或描述：").concat(S.referralTarget||"（請描述希望介紹什麼樣的人）","\n\n我有提供轉介紹獎勵嗎？").concat(S.hasReward?"有，內容是：".concat(S.rewardContent):"沒有","\n\n發送管道：").concat(W(S.platform),"\n\n===== 我的背景資訊 =====\n- 姓名：").concat(B.name||"（請在 Content Clone 模組填寫）","\n- 產品/服務：").concat(B.productService||"（請在 Content Clone 模組填寫）","\n- 說話風格：").concat(B.toneStyle||"（請在 Content Clone 模組填寫）","\n").concat(B.catchphrases?"- 常用語/口頭禪：".concat(B.catchphrases):"","\n\n請產出 3 個版本，原則：\n1. 先肯定合作成果\n2. 說明希望服務更多像他這樣的客戶\n3. 具體說明希望介紹什麼樣的人\n4. 讓對方好開口（提供介紹的說詞）\n5. 不要有壓力感\n\n每個版本標註建議的發送時間。")}I(e)},disabled:!S.customerName,className:"w-full md:w-auto px-8 py-3 bg-gradient-to-r from-teal-500 to-cyan-500 text-white font-medium rounded-lg hover:from-teal-600 hover:to-cyan-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl",children:F.followUp.form.generateFollowUp})})]})]}),R&&(0,l.jsxs)("div",{className:"mt-6 bg-white rounded-lg shadow-sm p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:F.followUp.result.title}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)("button",{onClick:H,"aria-label":F.followUp.result.copyMessage,className:"px-4 py-2 text-sm font-medium rounded-lg transition-colors ".concat(D?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:D?F.common.copied:F.followUp.result.copyMessage}),(0,l.jsx)("a",{href:"https://gemini.google.com/",target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 text-sm font-medium bg-gradient-to-r from-teal-100 to-cyan-100 text-teal-700 rounded-lg hover:from-teal-200 hover:to-cyan-200 transition-colors",children:F.followUp.result.openGemini})]})]}),(0,l.jsxs)("div",{className:"mb-4 p-4 bg-gradient-to-r from-teal-50 to-cyan-50 rounded-lg border border-teal-100",children:[(0,l.jsx)("h4",{className:"text-sm font-medium text-teal-800 mb-2",children:F.followUp.usage.title}),(0,l.jsxs)("ol",{className:"text-sm text-teal-700 space-y-1",children:[(0,l.jsxs)("li",{children:["1. ",F.followUp.usage.step1]}),(0,l.jsxs)("li",{children:["2. ",F.followUp.usage.step2]}),(0,l.jsxs)("li",{children:["3. ",F.followUp.usage.step3]}),(0,l.jsxs)("li",{children:["4. ",F.followUp.usage.step4]})]})]}),(0,l.jsx)("div",{className:"relative",children:(0,l.jsx)("pre",{className:"p-4 bg-gray-50 rounded-lg text-sm text-gray-800 whitespace-pre-wrap overflow-x-auto max-h-[500px] overflow-y-auto",children:R})})]}),(!B.name||!B.toneStyle)&&L&&(0,l.jsx)("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,l.jsxs)("p",{className:"text-sm text-yellow-800",children:[(0,l.jsxs)("span",{className:"font-medium",children:[F.common.tip||"提示","："]}),F.followUp.profileWarning||"建議先到「內容分身術」模組填寫你的基本資料和說話風格，讓 AI 能產出更貼近你風格的訊息。"]})})]})})}function m(e){return({postMeeting:"Send a thank you message after meeting to summarize key points and push next steps",silentCustomer:"Re-establish connection with inactive customer without being too salesy",holiday:"Holiday greetings to maintain relationship and stay memorable",birthday:"Personalized birthday wishes to build emotional connection",valueShare:"Share useful information to provide value and maintain presence",referral:"Ask for referrals when customer relationship is good"})[e]}},1958:(e,r,o)=>{Promise.resolve().then(o.bind(o,1601))},2065:(e,r,o)=>{"use strict";o.d(r,{ProfileProvider:()=>c,x:()=>i});var l=o(5155),a=o(2115),t=o(8826),n=o(6908);let s=(0,a.createContext)(null);function c(e){let{children:r}=e,[o,c]=(0,a.useState)(n.ji),[i,d]=(0,a.useState)(!0),{user:m,loading:p}=(0,t.A)(),u=(0,a.useCallback)(async()=>{if(!p){d(!0);try{let e=null;(e=m?await (0,n.rG)(m.uid):(0,n.iH)())?c(e):c(n.ji)}catch(r){console.error("載入 Profile 失敗:",r);let e=(0,n.iH)();e&&c(e)}finally{d(!1)}}},[m,p]);(0,a.useEffect)(()=>{u()},[u]);let h=(0,a.useCallback)(async e=>{c(e);try{m?await (0,n.H9)(m.uid,e):(0,n.Lt)(e)}catch(r){throw console.error("儲存 Profile 失敗:",r),(0,n.Lt)(e),r}},[m]),f=(0,a.useCallback)(async()=>{await u()},[u]);return(0,l.jsx)(s.Provider,{value:{profile:o,profileLoading:i,updateProfile:h,refreshProfile:f},children:r})}function i(){let e=(0,a.useContext)(s);if(!e)throw Error("useProfile must be used within ProfileProvider");return e}},5102:(e,r,o)=>{"use strict";o.d(r,{A:()=>t});var l=o(5155),a=o(8337);function t(){let{language:e,setLanguage:r,languageNames:o}=(0,a.o)();return(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("select",{value:e,onChange:e=>r(e.target.value),className:"appearance-none bg-white border border-gray-200 rounded-lg px-3 py-1.5 pr-8 text-sm text-gray-700 cursor-pointer hover:border-blue-500 focus:outline-none focus:border-blue-500 transition-colors",children:["zh-TW","zh-CN","en","ms","ja","ko"].map(e=>(0,l.jsx)("option",{value:e,children:o[e]},e))}),(0,l.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-500",children:(0,l.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})}},6653:(e,r,o)=>{"use strict";o.d(r,{A:()=>d});var l=o(5155),a=o(2115),t=o(63),n=o(8826),s=o(8337),c=o(1871),i=o(5102);function d(e){let{children:r}=e,o=(0,t.useRouter)(),{user:d,loading:m}=(0,n.A)(),{t:p}=(0,s.o)(),[u,h]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{h(!0)},[]),(0,a.useEffect)(()=>{m||d||o.push("/")},[d,m,o]),!u||m)?(0,l.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-gray-500",children:p.common.loading})]})}):d?(0,l.jsxs)("div",{className:"min-h-screen bg-gray-50 flex",children:[(0,l.jsx)(c.A,{}),(0,l.jsxs)("main",{className:"flex-1 lg:ml-0",children:[(0,l.jsx)("header",{className:"bg-white shadow-sm sticky top-0 z-20",children:(0,l.jsx)("div",{className:"flex items-center justify-end px-6 py-4",children:(0,l.jsx)(i.A,{})})}),(0,l.jsx)("div",{className:"p-6",children:r})]})]}):null}},6908:(e,r,o)=>{"use strict";o.d(r,{ji:()=>p,ML:()=>f,iH:()=>h,rG:()=>x,Lt:()=>u,H9:()=>g});var l=o(9390),a=o(8516);let t="users",n="profiles",s="main";function c(){if(!a.db)throw Error("Firestore 未初始化。請確認環境變數已正確設定。");return a.db}async function i(e,r){let o=c();try{let a=(0,l.H9)(o,t,e,n,s);(await (0,l.x7)(a)).exists()?await (0,l.mZ)(a,{...r,updatedAt:(0,l.O5)()}):await (0,l.BN)(a,{...r,createdAt:(0,l.O5)(),updatedAt:(0,l.O5)()})}catch(e){throw console.error("儲存 Profile 失敗:",e),Error("無法儲存用戶資料，請稍後再試")}}async function d(e){let r=c();try{let o=(0,l.H9)(r,t,e,n,s),a=await (0,l.x7)(o);if(a.exists())return a.data();return null}catch(e){throw console.error("讀取 Profile 失敗:",e),Error("無法讀取用戶資料，請稍後再試")}}let m="closer_user_profile",p={name:"",industry:"",jobTitle:"",yearsExperience:"",productService:"",productAdvantage:"",priceRange:"",idealCustomer:"",painPoints:[],commonQuestions:["","",""],toneStyle:"",catchphrases:"",avoidWords:"",sampleWriting:"",platforms:[],contentLength:"",cta:"",language:"zh-TW"};function u(e){localStorage.setItem(m,JSON.stringify(e))}function h(){let e=localStorage.getItem(m);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}}function f(){let e=h();return!!e&&!!(e.name&&e.industry)}async function g(e,r){u(r),await i(e,r)}async function x(e){try{let r=await d(e);if(r)return u(r),r;return h()}catch(e){return console.error("載入雲端 Profile 失敗，使用本地資料:",e),h()}}}},e=>{e.O(0,[153,563,320,619,168,871,441,493,358],()=>e(e.s=1958)),_N_E=e.O()}]);