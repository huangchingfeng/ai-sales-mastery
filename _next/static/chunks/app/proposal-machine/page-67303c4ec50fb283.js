(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[717],{2065:(e,r,a)=>{"use strict";a.d(r,{ProfileProvider:()=>c,x:()=>i});var n=a(5155),o=a(2115),l=a(8826),t=a(6908);let s=(0,o.createContext)(null);function c(e){let{children:r}=e,[a,c]=(0,o.useState)(t.ji),[i,d]=(0,o.useState)(!0),{user:u,loading:p}=(0,l.A)(),m=(0,o.useCallback)(async()=>{if(!p){d(!0);try{let e=null;(e=u?await (0,t.rG)(u.uid):(0,t.iH)())?c(e):c(t.ji)}catch(r){console.error("載入 Profile 失敗:",r);let e=(0,t.iH)();e&&c(e)}finally{d(!1)}}},[u,p]);(0,o.useEffect)(()=>{m()},[m]);let g=(0,o.useCallback)(async e=>{c(e);try{u?await (0,t.H9)(u.uid,e):(0,t.Lt)(e)}catch(r){throw console.error("儲存 Profile 失敗:",r),(0,t.Lt)(e),r}},[u]),h=(0,o.useCallback)(async()=>{await m()},[m]);return(0,n.jsx)(s.Provider,{value:{profile:a,profileLoading:i,updateProfile:g,refreshProfile:h},children:r})}function i(){let e=(0,o.useContext)(s);if(!e)throw Error("useProfile must be used within ProfileProvider");return e}},5102:(e,r,a)=>{"use strict";a.d(r,{A:()=>l});var n=a(5155),o=a(8337);function l(){let{language:e,setLanguage:r,languageNames:a}=(0,o.o)();return(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("select",{value:e,onChange:e=>r(e.target.value),className:"appearance-none bg-white border border-gray-200 rounded-lg px-3 py-1.5 pr-8 text-sm text-gray-700 cursor-pointer hover:border-blue-500 focus:outline-none focus:border-blue-500 transition-colors",children:["zh-TW","zh-CN","en","ms","ja","ko"].map(e=>(0,n.jsx)("option",{value:e,children:a[e]},e))}),(0,n.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-500",children:(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})}},6082:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>i});var n=a(5155),o=a(2115),l=a(8337),t=a(2065),s=a(6653);let c={targetCompany:"",targetIndustry:"",companySize:"",projectDescription:"",budget:"",timeline:"",competitors:"",scenario:"",keyPoints:"",topic:"",audience:"",duration:"",style:""};function i(){let[e,r]=(0,o.useState)("fullProposal"),[a,i]=(0,o.useState)(c),[d,u]=(0,o.useState)(""),[p,m]=(0,o.useState)(!1),{t:g}=(0,l.o)(),{profile:h,profileLoading:x}=(0,t.x)(),b=(e,r)=>{i(a=>({...a,[e]:r}))},y=async()=>{try{await navigator.clipboard.writeText(d),m(!0),setTimeout(()=>m(!1),2e3)}catch(e){console.error("複製失敗:",e)}},f=()=>{let r="";switch(e){case"fullProposal":r=(()=>{var e;let r="\n【我的公司資料】\n\n公司名稱：".concat(h.name||"[你的公司名稱]","\n主要產品/服務：").concat(h.productService||"[你的產品/服務]","\n產品優勢：\n").concat(h.productAdvantage||"[你的產品優勢]","\n\n價格區間：").concat(h.priceRange||"[價格區間]","\n\n【成功案例】\n").concat((null==(e=h.commonQuestions)?void 0:e.length)>0?h.commonQuestions.filter(e=>e).map((e,r)=>"案例 ".concat(r+1,"：").concat(e)).join("\n"):"[請填入你的成功案例]","\n").trim();return"請幫我製作一份給「".concat(a.targetCompany,"」的業務提案書。\n\n## 步驟\n\n1. **搜尋客戶資料**\n   - 搜尋「").concat(a.targetCompany,"」的官網、最新新聞、公司介紹\n   - 了解他們的產業、規模、主要業務\n   - 找出他們可能面臨的挑戰或需求\n\n2. **分析需求**\n   - 根據搜尋結果，推測他們可能的痛點\n   - 思考我的產品/服務如何解決這些問題\n\n3. **製作提案書**\n   - 用以下結構產出提案：\n\n---\n\n# ").concat(a.targetCompany," 合作提案書\n\n## 1. 關於貴公司（展現我有做功課）\n- 簡述對方公司背景\n- 提到近期動態或成績\n- 點出可能的挑戰/機會\n\n## 2. 我們觀察到的機會\n- 列出 2-3 個我們可以幫忙的地方\n- 連結到對方的業務目標\n\n## 3. 建議方案\n- 方案概述\n- 具體服務內容\n- 預期效益\n\n## 4. 成功案例\n- 相似產業/規模的客戶\n- 他們的問題\n- 我們的解決方案\n- 達成的成果\n\n## 5. 投資與回報\n- 費用說明").concat(a.budget?"\n- 預算範圍：".concat(a.budget):"","\n- ROI 分析（如適用）").concat(a.timeline?"\n- 預計時程：".concat(a.timeline):"","\n\n## 6. 下一步\n- 建議的行動\n- 聯絡方式\n\n---\n\n## 客戶資訊\n\n- 客戶公司：").concat(a.targetCompany,"\n- 客戶產業：").concat(a.targetIndustry||"[產業]","\n- 公司規模：").concat(a.companySize||"[規模]","\n").concat(a.projectDescription?"- 專案需求：".concat(a.projectDescription):"","\n").concat(a.competitors?"- 競爭對手：".concat(a.competitors):"","\n\n## 我的公司資料（請用這些資料）\n\n").concat(r,"\n\n## 輸出格式\n\n請產出 Word 文件格式（.docx），包含：\n- 專業的排版\n- 清晰的標題層級\n- 適當的間距")})();break;case"quickProposal":r=(()=>{let e="\n公司名稱：".concat(h.name||"[你的公司名稱]","\n主要產品/服務：").concat(h.productService||"[你的產品/服務]","\n產品優勢：").concat(h.productAdvantage||"[你的產品優勢]","\n價格區間：").concat(h.priceRange||"[價格區間]","\n").trim();return"請幫我製作一份給「".concat(a.targetCompany,"」的簡易提案。\n\n搜尋這家公司的基本資料，然後用以下格式產出：\n\n---\n\n# 致 ").concat(a.targetCompany," 合作提案\n\n## 為什麼找我們？\n\n根據我們對貴公司的了解，您可能正在面對：\n- [痛點 1]\n- [痛點 2]\n\n## 我們的建議\n\n[一段話說明解決方案]\n\n## 成功案例\n\n[公司名稱] 也有類似的挑戰，我們幫助他們 [成果]。\n\n## 下一步\n\n如果您有興趣，我們可以安排一次 30 分鐘的線上會議，進一步了解貴公司的需求。\n\n---\n\n## 客戶資訊\n\n- 客戶公司：").concat(a.targetCompany,"\n- 客戶產業：").concat(a.targetIndustry||"[產業]","\n").concat(a.scenario?"- 提案情境：".concat(a.scenario):"","\n").concat(a.keyPoints?"- 關鍵賣點：".concat(a.keyPoints):"","\n\n## 我的公司資料\n\n").concat(e)})();break;case"presentation":r=(()=>{let e="\n公司名稱：".concat(h.name||"[你的公司名稱]","\n主要產品/服務：").concat(h.productService||"[你的產品/服務]","\n產品優勢：").concat(h.productAdvantage||"[你的產品優勢]","\n").trim();return"請幫我製作一份給「".concat(a.targetCompany,"」的提案簡報大綱。\n\n搜尋這家公司的資料，然後產出 10 頁簡報的內容大綱：\n\n---\n\n## 簡報大綱\n\n**第 1 頁：封面**\n- 提案標題：").concat(a.topic||"[提案主題]","\n- 日期\n- 我的公司 logo\n\n**第 2 頁：關於 ").concat(a.targetCompany,"**\n- 展現我有做功課\n- 讚美他們的成績\n\n**第 3 頁：我們觀察到的機會**\n- 2-3 個可以幫忙的地方\n\n**第 4 頁：挑戰**\n- 如果不處理，會怎樣？\n\n**第 5 頁：解決方案概述**\n- 一句話說明我們怎麼幫\n\n**第 6 頁：具體服務內容**\n- 列點說明\n\n**第 7 頁：成功案例**\n- 相似客戶的故事\n\n**第 8 頁：投資與回報**\n- 費用 + ROI\n\n**第 9 頁：為什麼選我們**\n- 3 個差異化優勢\n\n**第 10 頁：下一步**\n- CTA + 聯絡方式\n\n---\n\n## 簡報資訊\n\n- 客戶公司：").concat(a.targetCompany,"\n- 客戶產業：").concat(a.targetIndustry||"[產業]","\n- 聽眾對象：").concat(a.audience||"[聽眾]","\n- 簡報時長：").concat(a.duration||"[時長]","\n- 簡報風格：").concat(a.style||"[風格]","\n\n請幫我把每一頁的「講者備註」也寫出來，包含：\n- 這頁要講什麼\n- 預計講多久\n- 可能的 Q&A\n\n## 我的公司資料\n\n").concat(e)})()}u(r)},j=r=>"\n    px-6 py-3 text-sm font-medium rounded-t-lg transition-colors\n    ".concat(e===r?"bg-white text-blue-600 border-t-2 border-l border-r border-blue-500":"bg-gray-100 text-gray-600 hover:bg-gray-200","\n  ");return x?(0,n.jsx)(s.A,{children:(0,n.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,n.jsx)("div",{className:"text-gray-500",children:g.common.loading})})}):(0,n.jsx)(s.A,{children:(0,n.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:g.proposalMachine.title}),(0,n.jsx)("p",{className:"text-gray-500 mt-1",children:g.proposalMachine.subtitle})]}),!h.name&&(0,n.jsx)("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,n.jsxs)("p",{className:"text-yellow-800 text-sm",children:[g.common.tip||"提示","：",g.proposalMachine.profileWarning]})}),(0,n.jsxs)("div",{className:"flex space-x-1 mb-0",children:[(0,n.jsx)("button",{onClick:()=>r("fullProposal"),className:j("fullProposal"),children:g.proposalMachine.tabs.fullProposal}),(0,n.jsx)("button",{onClick:()=>r("quickProposal"),className:j("quickProposal"),children:g.proposalMachine.tabs.quickProposal}),(0,n.jsx)("button",{onClick:()=>r("presentation"),className:j("presentation"),children:g.proposalMachine.tabs.presentation})]}),(0,n.jsxs)("div",{className:"bg-white rounded-b-lg rounded-tr-lg shadow-sm border border-gray-200 p-6",children:["fullProposal"===e&&(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:g.proposalMachine.fullProposal.title}),(0,n.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:g.proposalMachine.fullProposal.description})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:g.proposalMachine.fullProposal.customerName}),(0,n.jsx)("input",{type:"text",value:a.targetCompany,onChange:e=>b("targetCompany",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:g.proposalMachine.fullProposal.customerNamePlaceholder})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:g.proposalMachine.fullProposal.customerIndustry}),(0,n.jsx)("input",{type:"text",value:a.targetIndustry,onChange:e=>b("targetIndustry",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:g.proposalMachine.fullProposal.customerIndustryPlaceholder})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[g.proposalMachine.fullProposal.companySize,g.proposalMachine.fullProposal.companySizeOptional]}),(0,n.jsx)("input",{type:"text",value:a.companySize,onChange:e=>b("companySize",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:g.proposalMachine.fullProposal.companySizePlaceholder})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:g.proposalMachine.fullProposal.budget}),(0,n.jsx)("input",{type:"text",value:a.budget,onChange:e=>b("budget",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:g.proposalMachine.fullProposal.budgetPlaceholder})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:g.proposalMachine.fullProposal.customerNeeds}),(0,n.jsx)("textarea",{value:a.projectDescription,onChange:e=>b("projectDescription",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:3,placeholder:g.proposalMachine.fullProposal.customerNeedsPlaceholder})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:g.proposalMachine.fullProposal.timeline}),(0,n.jsx)("input",{type:"text",value:a.timeline,onChange:e=>b("timeline",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:g.proposalMachine.fullProposal.timelinePlaceholder})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:g.proposalMachine.fullProposal.competitors}),(0,n.jsx)("input",{type:"text",value:a.competitors,onChange:e=>b("competitors",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:g.proposalMachine.fullProposal.competitorsPlaceholder})]})]}),(0,n.jsx)("button",{onClick:f,disabled:!a.targetCompany,className:"w-full py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:g.proposalMachine.fullProposal.generate})]}),"quickProposal"===e&&(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:g.proposalMachine.quickProposal.title}),(0,n.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:g.proposalMachine.quickProposal.description})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:g.proposalMachine.fullProposal.customerName}),(0,n.jsx)("input",{type:"text",value:a.targetCompany,onChange:e=>b("targetCompany",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:g.proposalMachine.fullProposal.customerNamePlaceholder})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:g.proposalMachine.fullProposal.customerIndustry}),(0,n.jsx)("input",{type:"text",value:a.targetIndustry,onChange:e=>b("targetIndustry",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:g.proposalMachine.fullProposal.customerIndustryPlaceholder})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:g.proposalMachine.quickProposal.scenario}),(0,n.jsx)("textarea",{value:a.scenario,onChange:e=>b("scenario",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:2,placeholder:g.proposalMachine.quickProposal.scenarioPlaceholder})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:g.proposalMachine.quickProposal.keyPoints}),(0,n.jsx)("textarea",{value:a.keyPoints,onChange:e=>b("keyPoints",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:2,placeholder:g.proposalMachine.quickProposal.keyPointsPlaceholder})]}),(0,n.jsx)("button",{onClick:f,disabled:!a.targetCompany,className:"w-full py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:g.proposalMachine.quickProposal.generate})]}),"presentation"===e&&(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:g.proposalMachine.presentation.title}),(0,n.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:g.proposalMachine.presentation.description})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:g.proposalMachine.fullProposal.customerName}),(0,n.jsx)("input",{type:"text",value:a.targetCompany,onChange:e=>b("targetCompany",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:g.proposalMachine.fullProposal.customerNamePlaceholder})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:g.proposalMachine.fullProposal.customerIndustry}),(0,n.jsx)("input",{type:"text",value:a.targetIndustry,onChange:e=>b("targetIndustry",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:g.proposalMachine.fullProposal.customerIndustryPlaceholder})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:g.proposalMachine.presentation.topic}),(0,n.jsx)("input",{type:"text",value:a.topic,onChange:e=>b("topic",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:g.proposalMachine.presentation.topicPlaceholder})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:g.proposalMachine.presentation.audience}),(0,n.jsx)("input",{type:"text",value:a.audience,onChange:e=>b("audience",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:g.proposalMachine.presentation.audiencePlaceholder})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:g.proposalMachine.presentation.duration}),(0,n.jsx)("input",{type:"text",value:a.duration,onChange:e=>b("duration",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:g.proposalMachine.presentation.durationPlaceholder})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:g.proposalMachine.presentation.style}),(0,n.jsx)("input",{type:"text",value:a.style,onChange:e=>b("style",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:g.proposalMachine.presentation.stylePlaceholder})]}),(0,n.jsx)("button",{onClick:f,disabled:!a.targetCompany,className:"w-full py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:g.proposalMachine.presentation.generate})]})]}),d&&(0,n.jsxs)("div",{className:"mt-6 bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:g.proposalMachine.result.title}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)("button",{onClick:y,className:"px-4 py-2 text-sm font-medium rounded-lg transition-colors ".concat(p?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:p?g.common.copied:g.proposalMachine.result.copyResult}),(0,n.jsx)("a",{href:"https://manus.im/",target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 text-sm font-medium bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",children:g.proposalMachine.result.openManus})]})]}),(0,n.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:(0,n.jsx)("pre",{className:"whitespace-pre-wrap text-sm text-gray-700 font-mono leading-relaxed",children:d})}),(0,n.jsxs)("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg border border-blue-100",children:[(0,n.jsx)("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:g.proposalMachine.usage.title}),(0,n.jsxs)("ol",{className:"text-sm text-blue-700 space-y-1 list-decimal list-inside",children:[(0,n.jsx)("li",{children:g.proposalMachine.usage.step1}),(0,n.jsx)("li",{children:g.proposalMachine.usage.step2}),(0,n.jsx)("li",{children:g.proposalMachine.usage.step3}),(0,n.jsx)("li",{children:g.proposalMachine.usage.step4})]})]})]})]})})}},6653:(e,r,a)=>{"use strict";a.d(r,{A:()=>d});var n=a(5155),o=a(2115),l=a(63),t=a(8826),s=a(8337),c=a(1871),i=a(5102);function d(e){let{children:r}=e,a=(0,l.useRouter)(),{user:d,loading:u}=(0,t.A)(),{t:p}=(0,s.o)();return((0,o.useEffect)(()=>{u||d||a.push("/")},[d,u,a]),u)?(0,n.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,n.jsx)("p",{className:"text-gray-500",children:p.common.loading})]})}):d?(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50 flex",children:[(0,n.jsx)(c.A,{}),(0,n.jsxs)("main",{className:"flex-1 lg:ml-0",children:[(0,n.jsx)("header",{className:"bg-white shadow-sm sticky top-0 z-20",children:(0,n.jsx)("div",{className:"flex items-center justify-end px-6 py-4",children:(0,n.jsx)(i.A,{})})}),(0,n.jsx)("div",{className:"p-6",children:r})]})]}):null}},6908:(e,r,a)=>{"use strict";a.d(r,{ji:()=>p,ML:()=>h,iH:()=>g,rG:()=>b,Lt:()=>m,H9:()=>x});var n=a(9390),o=a(8516);let l="users",t="profiles",s="main";function c(){if(!o.db)throw Error("Firestore 未初始化。請確認環境變數已正確設定。");return o.db}async function i(e,r){let a=c();try{let o=(0,n.H9)(a,l,e,t,s);(await (0,n.x7)(o)).exists()?await (0,n.mZ)(o,{...r,updatedAt:(0,n.O5)()}):await (0,n.BN)(o,{...r,createdAt:(0,n.O5)(),updatedAt:(0,n.O5)()})}catch(e){throw console.error("儲存 Profile 失敗:",e),Error("無法儲存用戶資料，請稍後再試")}}async function d(e){let r=c();try{let a=(0,n.H9)(r,l,e,t,s),o=await (0,n.x7)(a);if(o.exists())return o.data();return null}catch(e){throw console.error("讀取 Profile 失敗:",e),Error("無法讀取用戶資料，請稍後再試")}}let u="closer_user_profile",p={name:"",industry:"",jobTitle:"",yearsExperience:"",productService:"",productAdvantage:"",priceRange:"",idealCustomer:"",painPoints:[],commonQuestions:["","",""],toneStyle:"",catchphrases:"",avoidWords:"",sampleWriting:"",platforms:[],contentLength:"",cta:"",language:"zh-TW"};function m(e){localStorage.setItem(u,JSON.stringify(e))}function g(){let e=localStorage.getItem(u);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}}function h(){let e=g();return!!e&&!!(e.name&&e.industry)}async function x(e,r){m(r),await i(e,r)}async function b(e){try{let r=await d(e);if(r)return m(r),r;return g()}catch(e){return console.error("載入雲端 Profile 失敗，使用本地資料:",e),g()}}},8153:(e,r,a)=>{Promise.resolve().then(a.bind(a,6082))}},e=>{e.O(0,[153,563,320,176,168,871,441,493,358],()=>e(e.s=8153)),_N_E=e.O()}]);