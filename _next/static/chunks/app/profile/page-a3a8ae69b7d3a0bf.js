(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{4345:(e,l,s)=>{"use strict";s.r(l),s.d(l,{default:()=>p});var t=s(5155),n=s(2115),a=s(63),r=s(8337),o=s(8826),c=s(6908),i=s(6653);function d(e){let{title:l,icon:s,isOpen:n,onToggle:a,children:r}=e;return(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,t.jsxs)("button",{type:"button",onClick:a,className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-2xl",children:s}),(0,t.jsx)("span",{className:"font-semibold text-gray-900",children:l})]}),(0,t.jsx)("svg",{className:"w-5 h-5 text-gray-400 transition-transform duration-200 ".concat(n?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&(0,t.jsx)("div",{className:"px-4 pb-4 border-t border-gray-100",children:(0,t.jsx)("div",{className:"pt-4 space-y-4",children:r})})]})}function p(){var e,l,s,p,m,h;let[x,u]=(0,n.useState)(c.ji),[j,g]=(0,n.useState)(!0),[v,b]=(0,n.useState)(!1),[f,N]=(0,n.useState)(null),[C,y]=(0,n.useState)({basics:!0,product:!1,target:!1,style:!1,preference:!1}),k=(0,a.useRouter)(),{t:w,language:P}=(0,r.o)(),{user:O,loading:A}=(0,o.A)();(0,n.useEffect)(()=>{(async()=>{if(A)return;if(!O)return k.push("/");let e=null;(e=O?await (0,c.rG)(O.uid):(0,c.iH)())&&u(e),g(!1)})()},[k,O,A]);let S=(e,l)=>{u(s=>({...s,[e]:l}))},E=(e,l)=>{let s=x[e];s.includes(l)?S(e,s.filter(e=>e!==l)):S(e,[...s,l])},W=e=>{y(l=>({...l,[e]:!l[e]}))},D=async()=>{if(O){b(!0),N(null);try{let e={...x,language:P};await (0,c.H9)(O.uid,e),N(w.common.saved),setTimeout(()=>N(null),3e3)}catch(l){var e;console.error("儲存失敗:",l),N((null==(e=w.profile)?void 0:e.saveError)||"Error saving")}finally{b(!1)}}};return j?(0,t.jsx)(i.A,{children:(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-500",children:w.common.loading})]})})}):(0,t.jsx)(i.A,{children:(0,t.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:(null==(e=w.profile)?void 0:e.title)||w.sidebar.myProfile}),(0,t.jsx)("p",{className:"text-gray-600 mt-1",children:(null==(l=w.profile)?void 0:l.subtitle)||"Edit your profile information"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(d,{title:w.contentClone.steps.basics,icon:"\uD83D\uDC64",isOpen:C.basics,onToggle:()=>W("basics"),children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"form-label",children:w.contentClone.step1.name}),(0,t.jsx)("input",{type:"text",value:x.name,onChange:e=>S("name",e.target.value),className:"form-input",placeholder:w.contentClone.step1.namePlaceholder})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"form-label",children:w.contentClone.step1.industry}),(0,t.jsxs)("select",{value:x.industry,onChange:e=>S("industry",e.target.value),className:"form-input",children:[(0,t.jsx)("option",{value:"",children:w.contentClone.step1.industryPlaceholder}),w.industries.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"form-label",children:w.contentClone.step1.jobTitle}),(0,t.jsx)("input",{type:"text",value:x.jobTitle,onChange:e=>S("jobTitle",e.target.value),className:"form-input",placeholder:w.contentClone.step1.jobTitlePlaceholder})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"form-label",children:w.contentClone.step1.experience}),(0,t.jsxs)("select",{value:x.yearsExperience,onChange:e=>S("yearsExperience",e.target.value),className:"form-input",children:[(0,t.jsx)("option",{value:"",children:w.contentClone.step1.experiencePlaceholder}),w.experienceOptions.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]})]}),(0,t.jsxs)(d,{title:w.contentClone.steps.product,icon:"\uD83D\uDCE6",isOpen:C.product,onToggle:()=>W("product"),children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"form-label",children:w.contentClone.step2.product}),(0,t.jsx)("textarea",{value:x.productService,onChange:e=>S("productService",e.target.value),className:"form-textarea",rows:4,placeholder:w.contentClone.step2.productPlaceholder})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"form-label",children:w.contentClone.step2.advantage}),(0,t.jsx)("textarea",{value:x.productAdvantage,onChange:e=>S("productAdvantage",e.target.value),className:"form-textarea",rows:3,placeholder:w.contentClone.step2.advantagePlaceholder})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"form-label",children:w.contentClone.step2.price}),(0,t.jsxs)("select",{value:x.priceRange,onChange:e=>S("priceRange",e.target.value),className:"form-input",children:[(0,t.jsx)("option",{value:"",children:w.contentClone.step2.pricePlaceholder}),w.priceOptions.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]})]}),(0,t.jsxs)(d,{title:w.contentClone.steps.target,icon:"\uD83C\uDFAF",isOpen:C.target,onToggle:()=>W("target"),children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"form-label",children:w.contentClone.step3.idealCustomer}),(0,t.jsx)("textarea",{value:x.idealCustomer,onChange:e=>S("idealCustomer",e.target.value),className:"form-textarea",rows:3,placeholder:w.contentClone.step3.idealCustomerPlaceholder})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"form-label",children:w.contentClone.step3.painPoints}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2 mt-2",children:w.painPointOptions.map(e=>(0,t.jsxs)("label",{className:"flex items-center space-x-2 p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[(0,t.jsx)("input",{type:"checkbox",checked:x.painPoints.includes(e),onChange:()=>E("painPoints",e),className:"w-4 h-4 text-blue-600"}),(0,t.jsx)("span",{className:"text-sm",children:e})]},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"form-label",children:w.contentClone.step3.commonQuestions}),(0,t.jsx)("div",{className:"space-y-3 mt-2",children:[0,1,2].map(e=>(0,t.jsx)("input",{type:"text",value:x.commonQuestions[e]||"",onChange:l=>((e,l)=>{let s=[...x.commonQuestions];s[e]=l,S("commonQuestions",s)})(e,l.target.value),className:"form-input",placeholder:"".concat(w.contentClone.step3.questionPlaceholder," ").concat(e+1)},e))})]})]}),(0,t.jsxs)(d,{title:w.contentClone.steps.style,icon:"\uD83C\uDFA8",isOpen:C.style,onToggle:()=>W("style"),children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"form-label",children:w.contentClone.step4.tone}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-3 mt-2",children:w.toneOptions.map(e=>(0,t.jsxs)("label",{className:"p-4 border rounded-lg cursor-pointer ".concat(x.toneStyle===e?"border-blue-500 bg-blue-50":"hover:bg-gray-50"),children:[(0,t.jsx)("input",{type:"radio",name:"toneStyle",value:e,checked:x.toneStyle===e,onChange:e=>S("toneStyle",e.target.value),className:"sr-only"}),(0,t.jsx)("div",{className:"font-medium",children:e})]},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"form-label",children:w.contentClone.step4.catchphrases}),(0,t.jsx)("textarea",{value:x.catchphrases,onChange:e=>S("catchphrases",e.target.value),className:"form-textarea",rows:2,placeholder:w.contentClone.step4.catchphrasesPlaceholder})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"form-label",children:w.contentClone.step4.avoidWords}),(0,t.jsx)("input",{type:"text",value:x.avoidWords,onChange:e=>S("avoidWords",e.target.value),className:"form-input",placeholder:w.contentClone.step4.avoidWordsPlaceholder})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"form-label",children:w.contentClone.step4.sampleWriting}),(0,t.jsx)("textarea",{value:x.sampleWriting,onChange:e=>S("sampleWriting",e.target.value),className:"form-textarea",rows:4,placeholder:w.contentClone.step4.sampleWritingPlaceholder})]})]}),(0,t.jsxs)(d,{title:w.contentClone.steps.preference,icon:"⚙️",isOpen:C.preference,onToggle:()=>W("preference"),children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"form-label",children:w.contentClone.step5.platforms}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-2 mt-2",children:w.platformOptions.map(e=>(0,t.jsxs)("label",{className:"p-3 border rounded-lg cursor-pointer text-center ".concat(x.platforms.includes(e)?"border-blue-500 bg-blue-50":"hover:bg-gray-50"),children:[(0,t.jsx)("input",{type:"checkbox",checked:x.platforms.includes(e),onChange:()=>E("platforms",e),className:"sr-only"}),(0,t.jsx)("span",{className:"text-sm",children:e})]},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"form-label",children:w.contentClone.step5.contentLength}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-3 mt-2",children:w.lengthOptions.map(e=>(0,t.jsxs)("label",{className:"p-4 border rounded-lg cursor-pointer text-center ".concat(x.contentLength===e?"border-blue-500 bg-blue-50":"hover:bg-gray-50"),children:[(0,t.jsx)("input",{type:"radio",name:"contentLength",value:e,checked:x.contentLength===e,onChange:e=>S("contentLength",e.target.value),className:"sr-only"}),(0,t.jsx)("div",{className:"text-sm font-medium",children:e})]},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"form-label",children:w.contentClone.step5.cta}),(0,t.jsx)("input",{type:"text",value:x.cta,onChange:e=>S("cta",e.target.value),className:"form-input",placeholder:w.contentClone.step5.ctaPlaceholder})]})]})]}),(0,t.jsxs)("div",{className:"mt-8 flex items-center justify-between",children:[(0,t.jsx)("div",{className:"flex items-center gap-2",children:f&&(0,t.jsx)("span",{className:"text-sm ".concat(f===w.common.saved?"text-green-600":"text-red-600"),children:f})}),(0,t.jsx)("button",{type:"button",onClick:D,disabled:v,className:"btn-primary flex items-center gap-2",children:v?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(null==(s=w.profile)?void 0:s.saving)||"Saving..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(null==(p=w.profile)?void 0:p.saveChanges)||w.common.save]})})]}),(0,t.jsxs)("div",{className:"mt-4 flex justify-center gap-4 text-sm",children:[(0,t.jsx)("button",{type:"button",onClick:()=>y({basics:!0,product:!0,target:!0,style:!0,preference:!0}),className:"text-blue-600 hover:text-blue-800",children:(null==(m=w.profile)?void 0:m.expandAll)||"Expand All"}),(0,t.jsx)("span",{className:"text-gray-300",children:"|"}),(0,t.jsx)("button",{type:"button",onClick:()=>y({basics:!1,product:!1,target:!1,style:!1,preference:!1}),className:"text-blue-600 hover:text-blue-800",children:(null==(h=w.profile)?void 0:h.collapseAll)||"Collapse All"})]})]})})}},7194:(e,l,s)=>{Promise.resolve().then(s.bind(s,4345))}},e=>{e.O(0,[153,563,320,176,168,672,441,493,358],()=>e(e.s=7194)),_N_E=e.O()}]);