(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{116:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>c});var t=s(5155),a=s(2619),l=s.n(a),n=s(8826),o=s(8337),i=s(6908),d=s(6653);function c(){let{user:e}=(0,n.A)(),{t:r}=(0,o.o)(),s=(0,i.ML)();return(0,t.jsx)(d.A,{children:(0,t.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:[r.dashboard.welcome,(null==e?void 0:e.displayName)&&(0,t.jsxs)("span",{className:"text-blue-600",children:[", ",e.displayName]}),"!"]}),(0,t.jsx)("p",{className:"text-gray-600 mt-2",children:r.dashboard.title})]}),!s&&(0,t.jsx)("div",{className:"mb-8 p-4 bg-amber-50 border border-amber-200 rounded-xl",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCA1"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-amber-800 font-medium",children:r.dashboard.completeProfile}),(0,t.jsxs)(l(),{href:"/content-clone",className:"inline-flex items-center gap-1 mt-2 text-sm text-amber-700 hover:text-amber-900 font-medium",children:[r.dashboard.modules.contentClone.title,(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{key:"contentClone",href:"/content-clone",icon:"✨",available:!0,color:"from-blue-500 to-indigo-600"},{key:"customerLens",href:"/customer-lens",icon:"\uD83D\uDD0D",available:!0,color:"from-emerald-500 to-teal-600"},{key:"proposalMachine",href:"/proposal-machine",icon:"\uD83D\uDCB0",available:!0,color:"from-amber-500 to-orange-600"},{key:"followUp",href:"/follow-up",icon:"\uD83D\uDD04",available:!0,color:"from-teal-500 to-cyan-600"}].map(e=>{let s=r.dashboard.modules[e.key];return(0,t.jsxs)("div",{className:"\n                  relative overflow-hidden rounded-2xl bg-white shadow-sm border border-gray-100\n                  ".concat(e.available?"hover:shadow-md transition-shadow duration-200":"opacity-75","\n                "),children:[(0,t.jsx)("div",{className:"h-2 bg-gradient-to-r ".concat(e.color)}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4 mb-4",children:[(0,t.jsx)("div",{className:"\n                      w-14 h-14 rounded-xl bg-gradient-to-r ".concat(e.color,"\n                      flex items-center justify-center text-2xl shadow-lg\n                    "),children:e.icon}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:s.title}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:s.description})]})]}),e.available?(0,t.jsxs)(l(),{href:e.href,className:"\n                        inline-flex items-center justify-center w-full gap-2\n                        px-4 py-3 rounded-lg font-medium\n                        bg-gradient-to-r ".concat(e.color," text-white\n                        hover:opacity-90 transition-opacity duration-200\n                      "),children:[r.dashboard.enter,(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]}):(0,t.jsxs)("div",{className:"inline-flex items-center justify-center w-full gap-2 px-4 py-3 rounded-lg bg-gray-100 text-gray-400 cursor-not-allowed",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),r.dashboard.comingSoon]})]})]},e.key)})}),(0,t.jsxs)("div",{className:"mt-8 grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:r.dashboard.stats.aiPrompts}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:s?"✓":"-"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:r.dashboard.stats.gems}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:s?"✓":"-"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:r.dashboard.stats.modules}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:[s?"1":"0","/4"]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:r.dashboard.stats.status}),(0,t.jsx)("p",{className:"text-2xl font-bold text-blue-600 mt-1",children:s?r.dashboard.stats.ready:r.dashboard.stats.pending})]})]})]})})}},757:(e,r,s)=>{Promise.resolve().then(s.bind(s,116))},5102:(e,r,s)=>{"use strict";s.d(r,{A:()=>l});var t=s(5155),a=s(8337);function l(){let{language:e,setLanguage:r,languageNames:s}=(0,a.o)();return(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("select",{value:e,onChange:e=>r(e.target.value),className:"appearance-none bg-white border border-gray-200 rounded-lg px-3 py-1.5 pr-8 text-sm text-gray-700 cursor-pointer hover:border-blue-500 focus:outline-none focus:border-blue-500 transition-colors",children:["zh-TW","zh-CN","en","ms","ja","ko"].map(e=>(0,t.jsx)("option",{value:e,children:s[e]},e))}),(0,t.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-500",children:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})}},6653:(e,r,s)=>{"use strict";s.d(r,{A:()=>c});var t=s(5155),a=s(2115),l=s(63),n=s(8826),o=s(8337),i=s(1871),d=s(5102);function c(e){let{children:r}=e,s=(0,l.useRouter)(),{user:c,loading:m}=(0,n.A)(),{t:x}=(0,o.o)(),[h,u]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{u(!0)},[]),(0,a.useEffect)(()=>{m||c||s.push("/")},[c,m,s]),!h||m)?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-500",children:x.common.loading})]})}):c?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50 flex",children:[(0,t.jsx)(i.A,{}),(0,t.jsxs)("main",{className:"flex-1 lg:ml-0",children:[(0,t.jsx)("header",{className:"bg-white shadow-sm sticky top-0 z-20",children:(0,t.jsx)("div",{className:"flex items-center justify-end px-6 py-4",children:(0,t.jsx)(d.A,{})})}),(0,t.jsx)("div",{className:"p-6",children:r})]})]}):null}},6908:(e,r,s)=>{"use strict";s.d(r,{ji:()=>x,ML:()=>p,iH:()=>u,rG:()=>b,Lt:()=>h,H9:()=>g});var t=s(9390),a=s(8516);let l="users",n="profiles",o="main";function i(){if(!a.db)throw Error("Firestore 未初始化。請確認環境變數已正確設定。");return a.db}async function d(e,r){let s=i();try{let a=(0,t.H9)(s,l,e,n,o);(await (0,t.x7)(a)).exists()?await (0,t.mZ)(a,{...r,updatedAt:(0,t.O5)()}):await (0,t.BN)(a,{...r,createdAt:(0,t.O5)(),updatedAt:(0,t.O5)()})}catch(e){throw console.error("儲存 Profile 失敗:",e),Error("無法儲存用戶資料，請稍後再試")}}async function c(e){let r=i();try{let s=(0,t.H9)(r,l,e,n,o),a=await (0,t.x7)(s);if(a.exists())return a.data();return null}catch(e){throw console.error("讀取 Profile 失敗:",e),Error("無法讀取用戶資料，請稍後再試")}}let m="closer_user_profile",x={name:"",industry:"",jobTitle:"",yearsExperience:"",productService:"",productAdvantage:"",priceRange:"",idealCustomer:"",painPoints:[],commonQuestions:["","",""],toneStyle:"",catchphrases:"",avoidWords:"",sampleWriting:"",platforms:[],contentLength:"",cta:"",language:"zh-TW"};function h(e){localStorage.setItem(m,JSON.stringify(e))}function u(){let e=localStorage.getItem(m);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}}function p(){let e=u();return!!e&&!!(e.name&&e.industry)}async function g(e,r){h(r),await d(e,r)}async function b(e){try{let r=await c(e);if(r)return h(r),r;return u()}catch(e){return console.error("載入雲端 Profile 失敗，使用本地資料:",e),u()}}}},e=>{e.O(0,[153,563,320,619,168,871,441,493,358],()=>e(e.s=757)),_N_E=e.O()}]);